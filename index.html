<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Workout">
    <meta name="theme-color" content="#000000">
    <link rel="apple-touch-icon" href="workout_icon.png">

    <title>Minimal Workout Tracker</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
    <div id="app">
        <header class="main-header">
            <h1>트레이닝</h1>
            <div class="header-actions">
                <button id="global-reset-btn" class="header-action-btn" aria-label="Reset All">
                    <i data-lucide="refresh-cw"></i>
                </button>
                <button id="theme-toggle" class="header-action-btn" aria-label="Toggle Theme">
                    <i data-lucide="moon"></i>
                </button>
            </div>
        </header>

        <div id="workout-list">
            <!-- Workout cards will be injected here -->
        </div>

        <div id="panel-overlay" class="panel-overlay"></div>
        <div class="add-workout-panel" id="add-panel" style="display: none;">
            <div class="panel-header">
                <h2>새 운동 추가</h2>
                <button id="close-panel-btn" class="close-btn" aria-label="Close">
                    <i data-lucide="x"></i>
                </button>
            </div>
            <div class="input-group">
                <input type="text" id="workout-name-input" placeholder="운동 이름 (예: 팔굽혀펴기)" autocomplete="off">
            </div>
            <div class="input-group">
                <input type="text" id="workout-reps-input" placeholder="횟수 (예: 20 또는 도달 시까지)" autocomplete="off">
            </div>
            <div class="stepper-row">
                <span style="font-weight: 600; color: var(--text-secondary);">세트 수</span>
                <div class="stepper">
                    <button class="stepper-btn" id="minus-btn" aria-label="Decrease">
                        <i data-lucide="minus"></i>
                    </button>
                    <div class="stepper-value" id="sets-value">5</div>
                    <button class="stepper-btn" id="plus-btn" aria-label="Increase">
                        <i data-lucide="plus"></i>
                    </button>
                </div>
            </div>
            <div class="color-picker-row">
                <span style="font-weight: 600; color: var(--text-secondary);">색상</span>
                <div class="color-options" id="color-options">
                    <div class="color-dot" data-color="#ff4d4d" style="background-color: #ff4d4d;"></div>
                    <div class="color-dot" data-color="#ff944d" style="background-color: #ff944d;"></div>
                    <div class="color-dot" data-color="#ffdb4d" style="background-color: #ffdb4d;"></div>
                    <div class="color-dot active" data-color="#2ecc71" style="background-color: #2ecc71;"></div>
                    <div class="color-dot" data-color="#3498db" style="background-color: #3498db;"></div>
                    <div class="color-dot" data-color="#9b59b6" style="background-color: #9b59b6;"></div>
                    <div class="color-dot" data-color="#e84393" style="background-color: #e84393;"></div>
                </div>
            </div>
            <button class="add-btn" id="add-workout-btn">운동 추가</button>
        </div>

        <div id="global-completion-overlay" class="overlay" style="display: none;">
            <div class="overlay-content">
                <div class="completion-icon">🏆</div>
                <h2>오늘의 운동 완료!</h2>
                <p>정말 멋진 하루입니다. 내일도 화이팅!</p>
                <button id="reset-all-btn" class="add-btn" style="margin-top: 20px;">새로운 하루 시작하기</button>
                <button id="close-overlay-btn" class="secondary-btn" style="margin-top: 10px; width: 100%;">닫기</button>
            </div>
        </div>
    </div>

    <div id="reset-confirm-modal" class="overlay" style="display: none;">
        <div class="overlay-content" style="background: #1c1c1e;">
            <h2 style="font-size: 1.4rem; color: #ffffff; margin-bottom: 15px;">모든 운동을 초기화하시겠습니까?</h2>
            <p style="color: #8e8e93;">오늘의 모든 운동 기록이 0으로 돌아갑니다.</p>
            <div style="display: flex; gap: 10px; width: 100%;">
                <button id="cancel-reset-btn" class="secondary-btn"
                    style="flex: 1; background: #2c2c2e; border: none; color: #ffffff;">취소</button>
                <button id="confirm-reset-btn" class="add-btn"
                    style="flex: 1; background: var(--success-color); color: white;">초기화</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>